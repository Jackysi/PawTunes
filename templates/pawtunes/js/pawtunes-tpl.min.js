var Ut="4.5.0",ct=Math.PI,Fe=2*ct,at=ct/2,mt=8.17579892;var wt="dual-combined",Ye="dual-horizontal",Re="single",Le="dual-vertical",Lt="bar-index",yt="bar-level",Qe="gradient",Rt=60,Et="click",Vt="fullscreenchange",Ft="resize",Yt="#111",Nt="",At="A",St="B",bt="C",Tt="D",vt="468",$e="sans-serif",$t="#0f0",jt="#7f7f7f22",Ne=10,Ct="create",xt="fschange",Qt="lores",Kt=Ft,nt="user",Jt="#000c",Bt="#fff",Zt="#4f4",kt="#888",ei="#555",rt="bark",qe="linear",De="log",ot="mel",It=["#a35","#c66","#e94","#ed0","#9d5","#4d8","#2cb","#0bc","#09c","#36b"],Dt=[["classic",{colorStops:["red",{color:"yellow",level:.85,pos:.6},{color:"lime",level:.475}]}],["prism",{colorStops:It}],["rainbow",{dir:"h",colorStops:["#817",...It,"#639"]}],["orangered",{bgColor:"#3e2f29",colorStops:["OrangeRed"]}],["steelblue",{bgColor:"#222c35",colorStops:["SteelBlue"]}]],Xe={alphaBars:!1,ansiBands:!1,barSpace:.1,bgAlpha:.7,channelLayout:Re,colorMode:Qe,fadePeaks:!1,fftSize:8192,fillAlpha:1,frequencyScale:De,gradient:Dt[0][0],gravity:3.8,height:void 0,ledBars:!1,linearAmplitude:!1,linearBoost:1,lineWidth:0,loRes:!1,lumiBars:!1,maxDecibels:-25,maxFPS:0,maxFreq:22e3,minDecibels:-85,minFreq:20,mirror:0,mode:0,noteLabels:!1,outlineBars:!1,overlay:!1,peakFadeTime:750,peakHoldTime:500,peakLine:!1,radial:!1,radialInvert:!1,radius:.3,reflexAlpha:.15,reflexBright:1,reflexFit:!0,reflexRatio:0,roundBars:!1,showBgColor:!0,showFPS:!1,showPeaks:!0,showScaleX:!0,showScaleY:!1,smoothing:.5,spinSpeed:0,splitGradient:!1,start:!0,trueLeds:!1,useCanvas:!0,volume:1,weightingFilter:Nt,width:void 0},ti=["ERR_AUDIO_CONTEXT_FAIL","Could not create audio context. Web Audio API not supported?"],ii=["ERR_INVALID_AUDIO_CONTEXT","Provided audio context is not valid"],si=["ERR_UNKNOWN_GRADIENT","Unknown gradient"],lt=["ERR_FREQUENCY_TOO_LOW","Frequency values must be >= 1"],ai=["ERR_INVALID_MODE","Invalid mode"],ni=["ERR_REFLEX_OUT_OF_RANGE","Reflex ratio must be >= 0 and < 1"],ri=["ERR_INVALID_AUDIO_SOURCE","Audio source must be an instance of HTMLMediaElement or AudioNode"],oi=["ERR_GRADIENT_INVALID_NAME","Gradient name must be a non-empty string"],li=["ERR_GRADIENT_NOT_AN_OBJECT","Gradient options must be an object"],hi=["ERR_GRADIENT_MISSING_COLOR","Gradient colorStops must be a non-empty array"],se=class extends Error{constructor(e,t){let[s,n]=e;super(n+(t!==void 0?`: ${t}`:"")),this.name="AudioMotionError",this.code=s}},Ot=(ae,e)=>console.warn(`${ae} is deprecated. Use ${e} instead.`),Mt=ae=>{for(let e in ae)return!1;return!0},je=(ae,e,t="toLowerCase")=>e[Math.max(0,e.indexOf((""+ae)[t]()))],ci=(ae,e,t,s,n)=>e+(s-e)*(n-ae)/(t-ae);Array.prototype.findLastIndex||(Array.prototype.findLastIndex=function(ae){let e=this.length;for(;e-- >0;)if(ae(this[e]))return e;return-1});var ht=class{constructor(e,t={}){this._ready=!1,this._aux={},this._canvasGradients=[],this._destroyed=!1,this._energy={val:0,peak:0,hold:0},this._flg={},this._fps=0,this._gradients={},this._last=0,this._outNodes=[],this._ownContext=!1,this._selectedGrads=[],this._sources=[],e instanceof Element||(Mt(t)&&!Mt(e)&&(t=e),e=null),this._ownCanvas=!(t.canvas instanceof HTMLCanvasElement);let s=this._ownCanvas?document.createElement("canvas"):t.canvas;s.style="max-width: 100%;",this._ctx=s.getContext("2d");for(let[p,C]of Dt)this.registerGradient(p,C);this._container=e||!this._ownCanvas&&s.parentElement||document.body,this._defaultWidth=this._container.clientWidth||640,this._defaultHeight=this._container.clientHeight||270;let n;if(!(t.source&&(n=t.source.context))){if(!(n=t.audioCtx))try{n=new(window.AudioContext||window.webkitAudioContext),this._ownContext=!0}catch{throw new se(ti)}}if(!n.createGain)throw new se(ii);let c=this._analyzer=[n.createAnalyser(),n.createAnalyser()],r=this._splitter=n.createChannelSplitter(2),o=this._merger=n.createChannelMerger(2);this._input=n.createGain(),this._output=n.createGain(),t.source&&this.connectInput(t.source);for(let p of[0,1])r.connect(c[p],p);o.connect(this._output),t.connectSpeakers!==!1&&this.connectOutput();for(let p of["_scaleX","_scaleR"])this[p]=document.createElement("canvas").getContext("2d");this._fsEl=t.fsElement||s;let l=()=>{this._fsTimeout||(this._fsTimeout=window.setTimeout(()=>{this._fsChanging||(this._setCanvas(Kt),this._fsTimeout=0)},Rt))};window.ResizeObserver&&(this._observer=new ResizeObserver(l),this._observer.observe(this._container)),this._controller=new AbortController;let S=this._controller.signal;window.addEventListener(Ft,l,{signal:S}),s.addEventListener(Vt,()=>{this._fsChanging=!0,this._fsTimeout&&window.clearTimeout(this._fsTimeout),this._setCanvas(xt),this._fsTimeout=window.setTimeout(()=>{this._fsChanging=!1,this._fsTimeout=0},Rt)},{signal:S});let g=()=>{n.state=="suspended"&&n.resume(),window.removeEventListener(Et,g)};window.addEventListener(Et,g),document.addEventListener("visibilitychange",()=>{document.visibilityState!="hidden"&&(this._frames=0,this._time=performance.now())},{signal:S}),this._setProps(t,!0),this.useCanvas&&this._ownCanvas&&this._container.appendChild(s),this._ready=!0,this._setCanvas(Ct)}get alphaBars(){return this._alphaBars}set alphaBars(e){this._alphaBars=!!e,this._calcBars()}get ansiBands(){return this._ansiBands}set ansiBands(e){this._ansiBands=!!e,this._calcBars()}get barSpace(){return this._barSpace}set barSpace(e){this._barSpace=+e||0,this._calcBars()}get channelLayout(){return this._chLayout}set channelLayout(e){this._chLayout=je(e,[Re,Ye,Le,wt]),this._input.disconnect(),this._input.connect(this._chLayout!=Re?this._splitter:this._analyzer[0]),this._analyzer[0].disconnect(),this._outNodes.length&&this._analyzer[0].connect(this._chLayout!=Re?this._merger:this._output),this._calcBars(),this._makeGrad()}get colorMode(){return this._colorMode}set colorMode(e){this._colorMode=je(e,[Qe,Lt,yt])}get fadePeaks(){return this._fadePeaks}set fadePeaks(e){this._fadePeaks=!!e}get fftSize(){return this._analyzer[0].fftSize}set fftSize(e){for(let s of[0,1])this._analyzer[s].fftSize=e;let t=this._analyzer[0].frequencyBinCount;this._fftData=[new Float32Array(t),new Float32Array(t)],this._calcBars()}get frequencyScale(){return this._frequencyScale}set frequencyScale(e){this._frequencyScale=je(e,[De,rt,ot,qe]),this._calcBars()}get gradient(){return this._selectedGrads[0]}set gradient(e){this._setGradient(e)}get gradientLeft(){return this._selectedGrads[0]}set gradientLeft(e){this._setGradient(e,0)}get gradientRight(){return this._selectedGrads[1]}set gradientRight(e){this._setGradient(e,1)}get gravity(){return this._gravity}set gravity(e){this._gravity=e>0?+e:this._gravity||Xe.gravity}get height(){return this._height}set height(e){this._height=e,this._setCanvas(nt)}get ledBars(){return this._showLeds}set ledBars(e){this._showLeds=!!e,this._calcBars()}get linearAmplitude(){return this._linearAmplitude}set linearAmplitude(e){this._linearAmplitude=!!e}get linearBoost(){return this._linearBoost}set linearBoost(e){this._linearBoost=e>=1?+e:1}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=+e||0}get loRes(){return this._loRes}set loRes(e){this._loRes=!!e,this._setCanvas(Qt)}get lumiBars(){return this._lumiBars}set lumiBars(e){this._lumiBars=!!e,this._calcBars(),this._makeGrad()}get maxDecibels(){return this._analyzer[0].maxDecibels}set maxDecibels(e){for(let t of[0,1])this._analyzer[t].maxDecibels=e}get maxFPS(){return this._maxFPS}set maxFPS(e){this._maxFPS=e<0?0:+e||0}get maxFreq(){return this._maxFreq}set maxFreq(e){if(e<1)throw new se(lt);this._maxFreq=Math.min(e,this.audioCtx.sampleRate/2),this._calcBars()}get minDecibels(){return this._analyzer[0].minDecibels}set minDecibels(e){for(let t of[0,1])this._analyzer[t].minDecibels=e}get minFreq(){return this._minFreq}set minFreq(e){if(e<1)throw new se(lt);this._minFreq=+e,this._calcBars()}get mirror(){return this._mirror}set mirror(e){this._mirror=Math.sign(e)|0,this._calcBars(),this._makeGrad()}get mode(){return this._mode}set mode(e){let t=e|0;if(t>=0&&t<=10&&t!=9)this._mode=t,this._calcBars(),this._makeGrad();else throw new se(ai,e)}get noteLabels(){return this._noteLabels}set noteLabels(e){this._noteLabels=!!e,this._createScales()}get outlineBars(){return this._outlineBars}set outlineBars(e){this._outlineBars=!!e,this._calcBars()}get peakFadeTime(){return this._peakFadeTime}set peakFadeTime(e){this._peakFadeTime=e>=0?+e:this._peakFadeTime||Xe.peakFadeTime}get peakHoldTime(){return this._peakHoldTime}set peakHoldTime(e){this._peakHoldTime=+e||0}get peakLine(){return this._peakLine}set peakLine(e){this._peakLine=!!e}get radial(){return this._radial}set radial(e){this._radial=!!e,this._calcBars(),this._makeGrad()}get radialInvert(){return this._radialInvert}set radialInvert(e){this._radialInvert=!!e,this._calcBars(),this._makeGrad()}get radius(){return this._radius}set radius(e){this._radius=+e||0,this._calcBars(),this._makeGrad()}get reflexRatio(){return this._reflexRatio}set reflexRatio(e){if(e=+e||0,e<0||e>=1)throw new se(ni);this._reflexRatio=e,this._calcBars(),this._makeGrad()}get roundBars(){return this._roundBars}set roundBars(e){this._roundBars=!!e,this._calcBars()}get smoothing(){return this._analyzer[0].smoothingTimeConstant}set smoothing(e){for(let t of[0,1])this._analyzer[t].smoothingTimeConstant=e}get spinSpeed(){return this._spinSpeed}set spinSpeed(e){e=+e||0,(this._spinSpeed===void 0||e==0)&&(this._spinAngle=-at),this._spinSpeed=e}get splitGradient(){return this._splitGradient}set splitGradient(e){this._splitGradient=!!e,this._makeGrad()}get stereo(){return Ot("stereo","channelLayout"),this._chLayout!=Re}set stereo(e){Ot("stereo","channelLayout"),this.channelLayout=e?Le:Re}get trueLeds(){return this._trueLeds}set trueLeds(e){this._trueLeds=!!e}get volume(){return this._output.gain.value}set volume(e){this._output.gain.value=e}get weightingFilter(){return this._weightingFilter}set weightingFilter(e){this._weightingFilter=je(e,[Nt,At,St,bt,Tt,vt],"toUpperCase")}get width(){return this._width}set width(e){this._width=e,this._setCanvas(nt)}get audioCtx(){return this._input.context}get canvas(){return this._ctx.canvas}get canvasCtx(){return this._ctx}get connectedSources(){return this._sources}get connectedTo(){return this._outNodes}get fps(){return this._fps}get fsHeight(){return this._fsHeight}get fsWidth(){return this._fsWidth}get isAlphaBars(){return this._flg.isAlpha}get isBandsMode(){return this._flg.isBands}get isDestroyed(){return this._destroyed}get isFullscreen(){return this._fsEl&&(document.fullscreenElement||document.webkitFullscreenElement)===this._fsEl}get isLedBars(){return this._flg.isLeds}get isLumiBars(){return this._flg.isLumi}get isOctaveBands(){return this._flg.isOctaves}get isOn(){return!!this._runId}get isOutlineBars(){return this._flg.isOutline}get pixelRatio(){return this._pixelRatio}get isRoundBars(){return this._flg.isRound}static get version(){return Ut}connectInput(e){let t=e instanceof HTMLMediaElement;if(!(t||e.connect))throw new se(ri);let s=t?this.audioCtx.createMediaElementSource(e):e;return this._sources.includes(s)||(s.connect(this._input),this._sources.push(s)),s}connectOutput(e=this.audioCtx.destination){if(!this._outNodes.includes(e)&&(this._output.connect(e),this._outNodes.push(e),this._outNodes.length==1))for(let t of[0,1])this._analyzer[t].connect(this._chLayout==Re&&!t?this._output:this._merger,0,t)}destroy(){if(!this._ready)return;let{audioCtx:e,canvas:t,_controller:s,_input:n,_merger:c,_observer:r,_ownCanvas:o,_ownContext:l,_splitter:S}=this;this._destroyed=!0,this._ready=!1,this.stop(),s.abort(),r&&r.disconnect(),this.onCanvasResize=null,this.onCanvasDraw=null,this._fsEl=null,this.disconnectInput(),this.disconnectOutput(),n.disconnect(),S.disconnect(),c.disconnect(),l&&e.close(),o&&t.remove(),this._calcBars()}disconnectInput(e,t){e?Array.isArray(e)||(e=[e]):e=Array.from(this._sources);for(let s of e){let n=this._sources.indexOf(s);if(t&&s.mediaStream)for(let c of s.mediaStream.getAudioTracks())c.stop();n>=0&&(s.disconnect(this._input),this._sources.splice(n,1))}}disconnectOutput(e){if(!(e&&!this._outNodes.includes(e))&&(this._output.disconnect(e),this._outNodes=e?this._outNodes.filter(t=>t!==e):[],this._outNodes.length==0))for(let t of[0,1])this._analyzer[t].disconnect()}getBars(){return Array.from(this._bars,({posX:e,freq:t,freqLo:s,freqHi:n,hold:c,peak:r,value:o})=>({posX:e,freq:t,freqLo:s,freqHi:n,hold:c,peak:r,value:o}))}getEnergy(e,t){if(e===void 0)return this._energy.val;if(e!=+e){if(e=="peak")return this._energy.peak;let o={bass:[20,250],lowMid:[250,500],mid:[500,2e3],highMid:[2e3,4e3],treble:[4e3,16e3]};if(!o[e])return null;[e,t]=o[e]}let s=this._freqToBin(e),n=t?this._freqToBin(t):s,c=this._chLayout==Re?1:2,r=0;for(let o=0;o<c;o++)for(let l=s;l<=n;l++)r+=this._normalizedB(this._fftData[o][l]);return r/(n-s+1)/c}getOptions(e){Array.isArray(e)||(e=[e]);let t={};for(let s of Object.keys(Xe))e.includes(s)||(s=="gradient"&&this.gradientLeft!=this.gradientRight?(t.gradientLeft=this.gradientLeft,t.gradientRight=this.gradientRight):s!="start"&&(t[s]=this[s]));return t}registerGradient(e,t){if(typeof e!="string"||e.trim().length==0)throw new se(oi);if(typeof t!="object")throw new se(li);let{colorStops:s}=t;if(!Array.isArray(s)||!s.length)throw new se(hi);let n=s.length,c=r=>+r!=r||r<0||r>1;s.forEach((r,o)=>{let l=o/Math.max(1,n-1);typeof r!="object"?s[o]={pos:l,color:r}:c(r.pos)&&(r.pos=l),c(r.level)&&(s[o].level=1-o/n)}),s.sort((r,o)=>r.level<o.level?1:r.level>o.level?-1:0),s[0].level=1,this._gradients[e]={bgColor:t.bgColor||Yt,dir:t.dir,colorStops:s},this._selectedGrads.includes(e)&&this._makeGrad()}setCanvasSize(e,t){this._width=e,this._height=t,this._setCanvas(nt)}setFreqRange(e,t){if(e<1||t<1)throw new se(lt);this._minFreq=Math.min(e,t),this.maxFreq=Math.max(e,t)}setLedParams(e){let t,s,n;e&&(t=e.maxLeds|0,s=+e.spaceV,n=+e.spaceH),this._ledParams=t>0&&s>0&&n>=0?[t,s,n]:void 0,this._calcBars()}setOptions(e){this._setProps(e)}setSensitivity(e,t){for(let s of[0,1])this._analyzer[s].minDecibels=Math.min(e,t),this._analyzer[s].maxDecibels=Math.max(e,t)}start(){this.toggleAnalyzer(!0)}stop(){this.toggleAnalyzer(!1)}toggleAnalyzer(e){let t=this.isOn;return e===void 0&&(e=!t),t&&!e?(cancelAnimationFrame(this._runId),this._runId=0):!t&&e&&!this._destroyed&&(this._frames=0,this._time=performance.now(),this._runId=requestAnimationFrame(s=>this._draw(s))),this.isOn}toggleFullscreen(){if(this.isFullscreen)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{let e=this._fsEl;if(!e)return;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}}_binToFreq(e){return e*this.audioCtx.sampleRate/this.fftSize||1}_calcBars(){let e=this._bars=[];if(!this._ready){this._flg={isAlpha:!1,isBands:!1,isLeds:!1,isLumi:!1,isOctaves:!1,isOutline:!1,isRound:!1,noLedGap:!1};return}let{_ansiBands:t,_barSpace:s,canvas:n,_chLayout:c,_maxFreq:r,_minFreq:o,_mirror:l,_mode:S,_radial:g,_radialInvert:p,_reflexRatio:C}=this,D=n.width>>1,$=n.height>>1,X=c==Le&&!g,W=c==Ye,F=S%10!=0,ne=F&&this._frequencyScale==De,y=this._showLeds&&F&&!g,N=this._lumiBars&&F&&!g,fe=this._alphaBars&&!N&&S!=Ne,J=this._outlineBars&&F&&!N&&!y,R=this._roundBars&&F&&!N&&!y,j=c!=Le||C>0&&!N,H=n.height-(X&&!y?.5:0)>>X,V=H*(N||g?1:1-C)|0,i=n.width-D*(W||l!=0),Q=X?n.height-H*2:0,ge=D*(l==-1&&!W&&!g),le=Math.min(n.width,n.height)*.375*(c==Le?1:this._radius)|0,I=Math.min(D,$);p&&c!=Le&&([le,I]=[I,le]);let x=T=>e.push({...T,peak:[0,0],hold:[0],alpha:[0],value:[0]}),E=T=>{let B=this._freqToBin(T,"floor"),m=this._binToFreq(B),L=this._binToFreq(B+1),M=Math.log2(T/m)/Math.log2(L/m);return[B,M]},u,G,v;if(ne){let T=(b,_,ce)=>+b.toPrecision(ce?Math.max(_,1+Math.log10(b)|0):_),B=b=>{let _=[1,1.12,1.25,1.4,1.6,1.8,2,2.24,2.5,2.8,3.15,3.55,4,4.5,5,5.6,6.3,7.1,8,9,10],ce=Math.log10(b)|0,Te=b/10**ce,re=1;for(;re<_.length&&Te>_[re];)re++;return Te-_[re-1]<_[re]-Te&&re--,(_[re]*10**(ce+5)|0)/1e5},m=[0,24,12,8,6,4,3,2,1][S],L=t?10**(3/(m*10)):2**(1/m),M=L**.5,he=[],P=t?7.94328235/(m%2?1:M):mt;do{let b=P,_=T(b/M,4,!0),ce=T(b*M,4,!0),[Te,re]=E(_),[pe,He]=E(ce);t?b=m<4?B(b):T(b,b.toString()[0]<5?3:2):b=T(b,4,!0),b>=o&&x({posX:0,freq:b,freqLo:_,freqHi:ce,binLo:Te,binHi:pe,ratioLo:re,ratioHi:He}),P*=L}while(P<=r);u=i/e.length,e.forEach((b,_)=>b.posX=ge+_*u);let K=e[0],Z=e[e.length-1];G=this._freqScaling(K.freqLo),v=i/(this._freqScaling(Z.freqHi)-G),K.freqLo<o&&(K.freqLo=o,[K.binLo,K.ratioLo]=E(o)),Z.freqHi>r&&(Z.freqHi=r,[Z.binHi,Z.ratioHi]=E(r))}else if(F){let T=[0,24,12,8,6,4,3,2,1][S]*10,B=m=>{switch(this._frequencyScale){case rt:return 1960/(26.81/(m+.53)-1);case ot:return 700*(2**m-1);case qe:return m}};u=i/T,G=this._freqScaling(o),v=i/(this._freqScaling(r)-G);for(let m=0,L=0;m<T;m++,L+=u){let M=B(G+L/v),he=B(G+(L+u/2)/v),P=B(G+(L+u)/v),[K,Z]=E(M),[b,_]=E(P);x({posX:ge+L,freq:he,freqLo:M,freqHi:P,binLo:K,binHi:b,ratioLo:Z,ratioHi:_})}}else{u=1,G=this._freqScaling(o),v=i/(this._freqScaling(r)-G);let T=this._freqToBin(o,"floor"),B=this._freqToBin(r),m=-999;for(let L=T;L<=B;L++){let M=this._binToFreq(L),he=ge+Math.round(v*(this._freqScaling(M)-G));if(he>m)x({posX:he,freq:M,freqLo:M,freqHi:M,binLo:L,binHi:L,ratioLo:0,ratioHi:0}),m=he;else if(e.length){let P=e[e.length-1];P.binHi=L,P.freqHi=M,P.freq=(P.freqLo*M)**.5}}}let te=0,q=0;if(y){let T=this._pixelRatio/(window.devicePixelRatio>1&&window.screen.height<=540?2:1),B=[[],[128,3,.45],[128,4,.225],[96,6,.225],[80,6,.225],[80,6,.125],[64,6,.125],[48,8,.125],[24,16,.125]],m=this._ledParams,[L,M,he]=m||B[S],P,K=V;if(m){let Z=2*T,b;P=L+1;do P--,b=K/P/(1+M),q=b*M;while((b<Z||q<Z)&&P>1)}else{let Z=540/M;q=Math.min(M*T,Math.max(2,K/Z+.1|0))}j&&(K+=q),m||(P=Math.min(L,K/(q*2)|0)),te=he>=1?he:u*he,this._leds=[P,te,q,K/P-q]}let A=Math.min(u-1,s*(s>0&&s<1?u:1));F&&(u-=Math.max(y?te:0,A)),e.forEach((T,B)=>{let m=T.posX,L=u;F&&(s==0&&!y?(m|=0,L|=0,B>0&&m>e[B-1].posX+e[B-1].width&&(m--,L++)):m+=Math.max(y?te:0,A)/2,T.posX=m),T.barCenter=m+(u==1?0:L/2),T.width=L});let ue=[];for(let T of[0,1]){let B=c==Le?(H+Q)*T:0,m=B+H,L=B+V-(!y||j?0:q);ue.push({channelTop:B,channelBottom:m,analyzerBottom:L})}this._aux={analyzerHeight:V,analyzerWidth:i,centerX:D,centerY:$,channelCoords:ue,channelHeight:H,channelGap:Q,initialX:ge,innerRadius:le,outerRadius:I,scaleMin:G,unitWidth:v},this._flg={isAlpha:fe,isBands:F,isLeds:y,isLumi:N,isOctaves:ne,isOutline:J,isRound:R,noLedGap:j},this._createScales()}_createScales(){if(!this._ready)return;let{analyzerWidth:e,initialX:t,innerRadius:s,scaleMin:n,unitWidth:c}=this._aux,{canvas:r,_frequencyScale:o,_mirror:l,_noteLabels:S,_radial:g,_scaleX:p,_scaleR:C}=this,D=p.canvas,$=C.canvas,X=[],W=this._chLayout==Ye,F=this._chLayout==Le,ne=Math.min(r.width,r.height),y=["C",,"D",,"E","F",,"G",,"A",,"B"],N=ne/34|0,fe=D.height>>1,J=N>>1,R=fe*(S?.7:1.5),j=J*(S?1:2),H=2**(1/12);if(!S&&(this._ansiBands||o!=De))X.push(16,31.5,63,125,250,500,1e3,2e3,4e3),o==qe?X.push(6e3,8e3,1e4,12e3,14e3,16e3,18e3,2e4,22e3):X.push(8e3,16e3);else{let I=mt;for(let x=-1;x<11;x++)for(let E=0;E<12;E++){if(I>=this._minFreq&&I<=this._maxFreq){let u=y[E],G=u=="C";(u&&S&&!l&&!W||G)&&X.push(S?[I,u+(G?x:"")]:I)}I*=H}}$.width=$.height=Math.max(ne*.15,(s<<1)+F*N);let V=$.width>>1,i=V-N*.7,Q=(I,x)=>{let E=Fe*(I/r.width),u=E-at,G=i*Math.cos(u),v=i*Math.sin(u);C.save(),C.translate(V+G,V+v),C.rotate(E),C.fillText(x,0,0),C.restore()};D.width|=0,p.fillStyle=C.strokeStyle=Jt,p.fillRect(0,0,D.width,D.height),C.arc(V,V,V-N/2,0,Fe),C.lineWidth=N,C.stroke(),p.fillStyle=C.fillStyle=Bt,p.font=`${fe}px ${$e}`,C.font=`${J}px ${$e}`,p.textAlign=C.textAlign="center";let ge=-R/4,le=-j;for(let I of X){let[x,E]=Array.isArray(I)?I:[I,I<1e3?I|0:`${(I/100|0)/10}k`],u=c*(this._freqScaling(x)-n),G=D.height*.75,v=E[0]=="C",te=fe*(S&&!l&&!W?v?1.2:.6:3);if(p.fillStyle=C.fillStyle=v&&!l&&!W?Zt:Bt,S){let q=o==De,A=o==qe,ue=["C"];if((q||x>2e3||!A&&x>250||(!g||F)&&(!A&&x>125||x>1e3))&&ue.push("G"),(q||x>4e3||!A&&x>500||(!g||F)&&(!A&&x>250||x>2e3))&&ue.push("E"),(A&&x>4e3||(!g||F)&&(q||x>2e3||!A&&x>500))&&ue.push("D","F","A","B"),!ue.includes(E[0]))continue}u>=ge+R/2&&u<=e&&(p.fillText(E,W&&l==-1?e-u:t+u,G,te),(W||l&&(u>R||l==1))&&p.fillText(E,W&&l!=1?e+u:(t||r.width)-u,G,te),ge=u+Math.min(te,p.measureText(E).width)/2),u>=le+j&&u<e-j&&(Q(W&&l==1?e-u:u,E),(W||l&&(u>j||l==1))&&Q(W&&l!=-1?e+u:-u,E),le=u)}}_draw(e){this._runId=requestAnimationFrame(a=>this._draw(a));let t=e-this._time,s=e-this._last,n=this._maxFPS?975/this._maxFPS:0;if(s<n)return;this._last=e-(n?s%n:0),this._frames++,t>=1e3&&(this._fps=this._frames/t*1e3,this._frames=0,this._time=e);let{isAlpha:c,isBands:r,isLeds:o,isLumi:l,isOctaves:S,isOutline:g,isRound:p,noLedGap:C}=this._flg,{analyzerHeight:D,centerX:$,centerY:X,channelCoords:W,channelHeight:F,channelGap:ne,initialX:y,innerRadius:N,outerRadius:fe}=this._aux,{_bars:J,canvas:R,_canvasGradients:j,_chLayout:H,_colorMode:V,_ctx:i,_energy:Q,_fadePeaks:ge,fillAlpha:le,_fps:I,_linearAmplitude:x,_lineWidth:E,maxDecibels:u,minDecibels:G,_mirror:v,_mode:te,overlay:q,_radial:A,showBgColor:ue,showPeaks:T,useCanvas:B,_weightingFilter:m}=this,L=this._scaleX.canvas,M=this._scaleR.canvas,he=I*this._peakFadeTime/1e3,P=I**2,K=this._gravity*1e3,Z=I*this._peakHoldTime/1e3,b=H==wt,_=H==Ye,ce=H==Le,Te=H==Re,re=o&&this._trueLeds&&V==Qe,pe=A?R.width:this._aux.analyzerWidth,He=y+pe,Ge=T&&this._peakLine&&te==Ne,Ee=A?fe-N:D,Gt=Ee/this._pixelRatio,di=u-G,[Pt,fi,Pe,Ke]=this._leds||[];Q.val>0&&I>0&&(this._spinAngle+=this._spinSpeed*Fe/60/I);let zt=a=>{if(this._reflexRatio>0&&!l&&!A){let w,me;this.reflexFit||ce?(w=ce&&a==0?F+ne:0,me=F-D):(w=R.height-D*2,me=D),i.save(),i.globalAlpha=this.reflexAlpha,this.reflexBright!=1&&(i.filter=`brightness(${this.reflexBright})`),i.setTransform(1,0,0,-1,0,R.height),i.drawImage(R,0,W[a].channelTop,R.width,D,0,w,R.width,me),i.restore()}},qt=()=>{this.showScaleX&&(A?(i.save(),i.translate($,X),this._spinSpeed&&i.rotate(this._spinAngle+at),i.drawImage(M,-M.width>>1,-M.width>>1),i.restore()):i.drawImage(L,0,R.height-L.height))},Xt=a=>{let w=a**2,me=424.36,Y=11599.29,We=25122.25,Ae=544496.41,ye=148693636,Ce=xe=>20*Math.log10(xe);switch(m){case At:let xe=ye*w**2/((w+me)*Math.sqrt((w+Y)*(w+Ae))*(w+ye));return 2+Ce(xe);case St:let Be=ye*w*a/((w+me)*Math.sqrt(w+We)*(w+ye));return .17+Ce(Be);case bt:let et=ye*w/((w+me)*(w+ye));return .06+Ce(et);case Tt:let Ue=((103791848e-2-w)**2+108076816e-2*w)/((9837328-w)**2+11723776*w),tt=a/68966888496476e-18*Math.sqrt(Ue/((w+79919.29)*(w+1345600)));return Ce(tt);case vt:let Ve=-4737338981378384e-39*a**6+2043828333606125e-30*a**4-1363894795463638e-22*w+1,ke=1306612257412824e-34*a**5-2118150887518656e-26*a**3+.0005559488023498642*a,oe=.0001246332637532143*a/Math.hypot(Ve,ke);return 18.2+Ce(oe)}return 0},Je=(a,w,me)=>{i.beginPath(),i.moveTo(a,w),i.lineTo(a,me),i.stroke()},Ze=a=>{if(a&&E){let w=i.globalAlpha;i.globalAlpha=1,i.stroke(),i.globalAlpha=w}},ve=a=>Math.max(0,(a*Pt|0)*(Ke+Pe)-Pe),Wt=a=>{Q.val=a,Q.peak>0&&(Q.hold--,Q.hold<0&&(Q.peak+=Q.hold*K/P/R.height*this._pixelRatio)),a>=Q.peak&&(Q.peak=a,Q.hold=Z)};q&&i.clearRect(0,0,R.width,R.height);let ft=0,ut=J.length,_t=Te?1:2;for(let a=0;a<_t;a++){let{channelTop:w,channelBottom:me,analyzerBottom:Y}=W[a],We=this._gradients[this._selectedGrads[a]],Ae=We.colorStops,ye=Ae.length,Ce=!ue||o&&!q?"#000":We.bgColor,xe=ce&&A&&a?-1:1,Be=!a&&v==-1||a&&v==1,et=!_||a&&v!=1?0:pe>>(a||!Be),Ue=_&&Be?-1:1,tt=()=>{let h=L.height,d=h>>1,f=x?100:u,O=x?0:G,z=x?20:5,ie=D/(f-O),we=v!=-1&&(!_||a==0||v==1),Se=v!=1&&(!_||a!=v);i.save(),i.fillStyle=kt,i.font=`${d}px ${$e}`,i.textAlign="right",i.lineWidth=1;for(let be=f;be>O;be-=z){let Oe=w+(f-be)*ie,U=be%2==0|0;if(U){let ee=Oe+d*(Oe==w?.8:.35);we&&i.fillText(be,h*.85,ee),Se&&i.fillText(be,(_?pe:R.width)-h*.1,ee),i.strokeStyle=kt,i.setLineDash([2,4]),i.lineDashOffset=0}else i.strokeStyle=ei,i.setLineDash([2,8]),i.lineDashOffset=1;i.beginPath(),i.moveTo(y+h*U*we,~~Oe+.5),i.lineTo(He-h*U*Se,~~Oe+.5),i.stroke()}i.restore()},Ve=(h,d)=>{let f=_e[h]+(h<_e.length-1?(_e[h+1]-_e[h])*d:0);return isNaN(f)?-1/0:f},ke=(h,d=Ue)=>d*Fe*((h+et)/R.width)+this._spinAngle,oe=(h,d,f)=>{let O=N+d*xe,z=ke(h,f);return[$+O*Math.cos(z),X+O*Math.sin(z)]},it=(h,d,f,O,z)=>{i.beginPath();for(let ie of v&&!_?[1,-1]:[Ue]){let[we,Se]=p?[ke(h,ie),ke(h+f,ie)]:[];i.moveTo(...oe(h,d,ie)),i.lineTo(...oe(h,d+O,ie)),p?i.arc($,X,N+(d+O)*xe,we,Se,ie!=1):i.lineTo(...oe(h+f,d+O,ie)),i.lineTo(...oe(h+f,d,ie)),p&&!z&&i.arc($,X,N+d*xe,Se,we,ie==1)}Ze(z),i.fill()},st=(h=0,d=0)=>{let f;if(V==Qe&&!re||te==Ne)f=j[a];else{let O=V==Lt?d%ye:Ae.findLastIndex(z=>o?ve(h)<=ve(z.level):h<=z.level);f=Ae[O].color}i.fillStyle=i.strokeStyle=f};if(B){if(_&&!A){let h=pe*(a+Be),d=Be?-1:1;i.setTransform(d,0,0,1,h,0)}if((!q||ue)&&(q&&(i.globalAlpha=this.bgAlpha),i.fillStyle=Ce,(a==0||!A&&!b)&&i.fillRect(y,w-ne,pe,(q&&this.reflexAlpha==1?D:F)+ne),i.globalAlpha=1),this.showScaleY&&!l&&!A&&(a==0||!b)&&tt(),o?(i.setLineDash([Ke,Pe]),i.lineWidth=J[0].width):i.lineWidth=g?Math.min(E,J[0].width/2):E,i.save(),!A){let h=new Path2D;h.rect(0,w,R.width,D),i.clip(h)}}let _e=this._fftData[a];this._analyzer[a].getFloatFrequencyData(_e),m&&(_e=_e.map((h,d)=>h+Xt(this._binToFreq(d)))),i.beginPath();let ze=[];for(let h=0;h<ut;h++){let d=J[h],{posX:f,barCenter:O,width:z,freq:ie,binLo:we,binHi:Se,ratioLo:be,ratioHi:Oe}=d,U=Math.max(Ve(we,be),Ve(Se,Oe));for(let k=we+1;k<Se;k++)_e[k]>U&&(U=_e[k]);if(U=this._normalizedB(U),d.value[a]=U,ft+=U,d.peak[a]>0&&d.alpha[a]>0&&(d.hold[a]--,d.hold[a]<0)){if(ge&&!Ge){let k=!c||g&&E>0?1:c?d.peak[a]:le;d.alpha[a]=k*(1+d.hold[a]/he)}else d.peak[a]+=d.hold[a]*K/P/Gt;d.alpha[a]<=0&&(d.peak[a]=0)}if(U>=d.peak[a]&&(d.peak[a]=U,d.hold[a]=Z,d.alpha[a]=!c||g&&E>0?1:c?U:le),!B)continue;i.globalAlpha=l||c?U:g?le:1,st(U,h);let ee=l?Ee:o?ve(U):U*Ee|0;if(te==Ne){let k=h?0:(this._normalizedB(_e[J[1].binLo])*Ee+ee)/2;if(A){if(h==0&&(_&&i.moveTo(...oe(0,0)),i.lineTo(...oe(0,f<0?k:ee))),f>=0){let de=[f,ee];i.lineTo(...oe(...de)),ze.push(de)}}else{if(h==0)if(v==-1&&!_)i.moveTo(y,Y-(f<y?k:ee));else{let de=we?this._normalizedB(_e[we-1])*Ee:ee;i.moveTo(y-E,Y-de)}(_||v!=-1||f>=y)&&i.lineTo(f,Y-ee)}}else if(o){if(ue&&!q&&(a==0||!b)){let k=i.globalAlpha;i.strokeStyle=jt,i.globalAlpha=1,Je(O,w,Y),i.strokeStyle=i.fillStyle,i.globalAlpha=k}if(re){let k=l?0:Ae.findLastIndex(Ie=>ve(U)<=ve(Ie.level)),de=Y;for(let Ie=ye-1;Ie>=k;Ie--){i.strokeStyle=Ae[Ie].color;let pt=Y-(Ie==k?ee:ve(Ae[Ie].level));Je(O,de,pt),de=pt-Pe}}else Je(O,Y,Y-ee)}else if(f>=y)if(A)it(f,0,z,ee,g);else if(p){let k=z/2,de=Y+k;i.beginPath(),i.moveTo(f,de),i.lineTo(f,de-ee),i.arc(O,de-ee,k,ct,Fe),i.lineTo(f+z,de),Ze(g),i.fill()}else{let k=g?i.lineWidth:0;i.beginPath(),i.rect(f,Y+k,z,-ee-k),Ze(g),i.fill()}let Me=d.peak[a],gt=d.alpha[a];if(Me>0&&gt>0&&T&&!Ge&&!l&&f>=y&&f<He){if(ge?i.globalAlpha=gt:g&&E>0?i.globalAlpha=1:c&&(i.globalAlpha=Me),(V==yt||re)&&st(Me),o){let k=ve(Me);k>=Pe&&i.fillRect(f,Y-k,z,Ke)}else if(!A)i.fillRect(f,Y-Me*Ee,z,2);else if(te!=Ne){let k=Me*Ee;it(f,k,z,!this._radialInvert||ce||k+N>=2?-2:2)}}}if(B){if(i.globalAlpha=1,te==Ne){if(st(),A&&!_){if(v){let h;for(;h=ze.pop();)i.lineTo(...oe(...h,-1))}i.closePath()}if(E>0&&i.stroke(),le>0){if(A){let h=_?ke(pe>>1):0,d=_?ke(pe):Fe;i.moveTo(...oe(_?pe>>1:0,0)),i.arc($,X,N,h,d,_?!Be:!0)}else i.lineTo(He,Y),i.lineTo(y,Y);i.globalAlpha=le,i.fill(),i.globalAlpha=1}if((Ge||A&&T)&&(ze=[],i.beginPath(),J.forEach((h,d)=>{let f=h.posX,O=h.peak[a],z=d?"lineTo":"moveTo";if(A&&f<0){let ie=J[d+1];O=ci(f,O,ie.posX,ie.peak[a],0),f=0}O*=Ee,Ge?(i[z](...A?oe(f,O):[f,Y-O]),A&&v&&!_&&ze.push([f,O])):O>0&&it(f,O,1,-2)}),Ge)){let h;for(;h=ze.pop();)i.lineTo(...oe(...h,-1));i.lineWidth=1,i.stroke()}}i.restore(),_&&!A&&i.setTransform(1,0,0,1,0,0),(!_&&!b||a)&&zt(a)}}if(Wt(ft/(ut<<_t-1)),B&&(v&&!A&&!_&&(i.setTransform(-1,0,0,1,R.width-y,0),i.drawImage(R,y,0,$,R.height,0,0,$,R.height),i.setTransform(1,0,0,1,0,0)),i.setLineDash([]),qt()),this.showFPS){let a=L.height;i.font=`bold ${a}px ${$e}`,i.fillStyle=$t,i.textAlign="right",i.fillText(Math.round(I),R.width-a,a*2)}this.onCanvasDraw&&(i.save(),i.fillStyle=i.strokeStyle=j[0],this.onCanvasDraw(this,{timestamp:e,canvasGradients:j}),i.restore())}_freqScaling(e){switch(this._frequencyScale){case De:return Math.log2(e);case rt:return 26.81*e/(1960+e)-.53;case ot:return Math.log2(1+e/700);case qe:return e}}_freqToBin(e,t="round"){let s=this._analyzer[0].frequencyBinCount-1,n=Math[t](e*this.fftSize/this.audioCtx.sampleRate);return n<s?n:s}_makeGrad(){if(!this._ready)return;let{canvas:e,_ctx:t,_radial:s,_reflexRatio:n}=this,{analyzerWidth:c,centerX:r,centerY:o,initialX:l,innerRadius:S,outerRadius:g}=this._aux,{isLumi:p}=this._flg,C=this._chLayout==Le,D=1-n,$=p?e.height:e.height*(1-n*!C)|0;for(let X of[0,1]){let W=this._gradients[this._selectedGrads[X]],F=W.colorStops,ne=W.dir=="h",y;if(s?y=t.createRadialGradient(r,o,g,r,o,S-(g-S)*C):y=t.createLinearGradient(...ne?[l,0,l+c,0]:[0,0,0,$]),F){let N=C&&!this._splitGradient&&(!ne||s);for(let fe=0;fe<1+N;fe++){let J=F.length-1;F.forEach((R,j)=>{let H=R.pos;if(N&&(H/=2),C&&!p&&!s&&!ne&&(H*=D,!N&&H>.5*D&&(H+=.5*n)),fe==1)if(s||p){let V=J-j;R=F[V],H=1-R.pos/2}else j==0&&H>0&&y.addColorStop(.5,R.color),H+=.5;y.addColorStop(H,R.color),C&&j==J&&H<.5&&y.addColorStop(.5,R.color)})}}this._canvasGradients[X]=y}}_normalizedB(e){let t=this._linearAmplitude,s=t?1/this._linearBoost:1,n=(l,S,g)=>l<=S?S:l>=g?g:l,c=l=>10**(l/20),r=this.maxDecibels,o=this.minDecibels;return t&&(r=c(r),o=c(o),e=c(e)**s),n((e-o)/(r-o)**s,0,1)}_setCanvas(e){if(!this._ready)return;let{canvas:t,_ctx:s}=this,n=this._scaleX.canvas,c=window.devicePixelRatio/(this._loRes+1),r=window.screen.width*c,o=window.screen.height*c;Math.abs(window.orientation)==90&&r<o&&([r,o]=[o,r]);let l=this.isFullscreen,S=l&&this._fsEl==t,g=S?r:(this._width||this._container.clientWidth||this._defaultWidth)*c|0,p=S?o:(this._height||this._container.clientHeight||this._defaultHeight)*c|0;this._pixelRatio=c,this._fsWidth=r,this._fsHeight=o,!(e!=Ct&&t.width==g&&t.height==p)&&(t.width=g,t.height=p,this.overlay||(s.fillStyle="#000",s.fillRect(0,0,g,p)),s.lineJoin="bevel",n.width=g,n.height=Math.max(20*c,Math.min(g,p)/32|0),this._calcBars(),this._makeGrad(),this._fsStatus!==void 0&&this._fsStatus!==l&&(e=xt),this._fsStatus=l,this.onCanvasResize&&this.onCanvasResize(e,this))}_setGradient(e,t){if(!this._gradients.hasOwnProperty(e))throw new se(si,e);[0,1].includes(t)||(this._selectedGrads[1]=e,t=0),this._selectedGrads[t]=e,this._makeGrad()}_setProps(e,t){let s=["onCanvasDraw","onCanvasResize"],n=["gradientLeft","gradientRight","stereo"],c=Object.keys(Xe).filter(r=>r!="start").concat(s,n);(t||e===void 0)&&(e={...Xe,...e});for(let r of Object.keys(e))s.includes(r)&&typeof e[r]!="function"?this[r]=void 0:c.includes(r)&&(this[r]=e[r]);e.start!==void 0&&this.toggleAnalyzer(e.start)}};var Ht=ht;var dt=class{constructor(e){this.currentPage="main";this.audioMotion=null;this.pawtunes=e,this.pawtunes.on("ready",()=>this.pawtunes._(".preloader",t=>t.classList.add("hidden"))),this.pawtunes.on("theme.change",()=>{this.changeSpectrumColor()}),this.pawtunes.init(),this.setup()}setup(){this.pawtunes.channel&&this.updateChannelName(this.pawtunes.channel),this.pawtunes.onAir&&this.updateTrackInfo(this.pawtunes.onAir),this.pawtunes.audio&&this.initSpectrum(),this.pawtunes.settings.history||(this.pawtunes._(".open-history",t=>t.remove()),this.pawtunes._(".page.history",t=>t.remove()));let e=this.pawtunes.channels.length<=1;(this.pawtunes.settings.tpl.disableSettings||e&&Object.keys(this.pawtunes.channels[0].streams).length<=1)&&this.disablePawSettings(),this.pawtunes.settings.tpl.hideBlurredArtwork&&this.pawtunes._(".artwork-image .background-blur",t=>t.remove()),this.bindPawEvents(),this.bindButtons(),this.switchPage("main"),window.addEventListener("resize",()=>{this.switchPage("",!1)})}bindPawEvents(){this.pawtunes.on("channel.change",e=>this.updateChannelName(e)),this.pawtunes.on("channel.change",()=>this.switchPage("main")),this.pawtunes.on("track.change",e=>this.updateTrackInfo(e)),this.pawtunes.on("status.change",e=>this.updateStatusInfo(e)),this.pawtunes._(".artwork",e=>{e.addEventListener("load",()=>{let t=e.getAttribute("src");t!=null&&this.pawtunes._(".background-blur img",s=>s.setAttribute("src",t))})}),this.pawtunes.settings.tpl.songSearchEnable&&this.pawtunes._(".artwork-img",e=>{e.classList.add("cursor-pointer"),e.addEventListener("click",t=>{this.pawtunes.onAir.artist&&this.pawtunes.onAir.title&&(t.preventDefault(),window.open(this.pawtunes.settings.tpl.songSearch.replace("{query}",encodeURI(this.pawtunes.onAir.artist+" - "+this.pawtunes.onAir.title))))})})}bindButtons(){this.pawtunes._(".open-history",e=>{e.addEventListener("click",t=>{if(t.preventDefault(),this.currentPage!=="history")return this.switchPage("history"),!1;this.switchPage("main")})}),this.pawtunes._(".open-settings",e=>{e.addEventListener("click",t=>{if(t.preventDefault(),this.currentPage!=="settings-page")return this.switchPage("settings-page"),!1;this.switchPage("main")})}),this.pawtunes._(".btn-back",e=>{e.addEventListener("click",t=>{this.switchPage("main"),t.preventDefault()})})}updateChannelName(e){if(this.pawtunes.settings.tpl.useChannelLogos&&this.pawtunes.settings.tpl.useChannelLogos===!0)return this.pawtunes._(".onair .current-channel",t=>{t.innerHTML='<div class="logo"><img alt="Logo" height="40" src="./assets/img/logo.svg"></div>'}),this.pawtunes.off("channel.change",this.updateChannelName),!1;this.pawtunes._(".onair .current-channel",t=>t.textContent=e.name)}updateTrackInfo(e){this.pawtunes._(".onair .current-track",t=>t.textContent=`${e.artist} - ${e.title}`)}updateStatusInfo(e){!e||e===""||this.pawtunes._(".player-message",t=>{t.classList.remove("hidden");let s=t.querySelector(".text");s&&(s.textContent=e),clearTimeout(this.statusTimeout),this.statusTimeout=setTimeout(()=>{t.classList.add("hidden")},2500)})}disablePawSettings(){this.pawtunes._(".player .open-history",e=>e.style.marginRight="0"),this.pawtunes._(".open-settings",e=>e.remove())}changeSpectrumColor(){if(!this.audioMotion)return;let e="",t=document.querySelector(".pawtunes");t&&(e=window.getComputedStyle(t).getPropertyValue("--accent-color")),e===""&&(e="#fff"),this.audioMotion.registerGradient("myGradient",{bgColor:"#011a35",colorStops:[e]}),this.audioMotion.setOptions({gradient:"myGradient"})}initSpectrum(){let e=document.getElementById("analyzer");!this.pawtunes.audio||!e||(this.pawtunes._("#analyzer",t=>t.innerHTML=""),this.pawtunes.audio.crossOrigin="anonymous",this.audioMotion=new Ht(e,{source:this.pawtunes.audio,frequencyScale:"linear",fftSize:8192,mode:10,lineWidth:1,maxFreq:16e3,linearAmplitude:!0,linearBoost:2,minFreq:20,fillAlpha:.4,barSpace:.3,smoothing:.92,reflexRatio:.2,reflexAlpha:.3,reflexBright:1,reflexFit:!0,showPeaks:!1,showScaleX:!1,showBgColor:!1,overlay:!0,channelLayout:"dual-combined"}),this.changeSpectrumColor())}switchPage(e="",t=!0){e===""&&(e=this.currentPage);let s=this.pawtunes._(".main-container > .container .page"),n=s[0].offsetHeight,c=this.pawtunes._(".main-container > .container .container-inner"),r=s.length,o=0;for(let l=0;l<r;l++)if(s[l].classList.contains(e)){o=l;break}c[0].style.transform="translate3d(0, -"+n*o+"px, 0)",this.currentPage=e,t||(c[0].style.transition="none",setTimeout(function(){c[0].style.transition=""},0))}};export{dt as default};
/*! Bundled license information:

audiomotion-analyzer/src/audioMotion-analyzer.js:
  (**!
   * audioMotion-analyzer
   * High-resolution real-time graphic audio spectrum analyzer JS module
   *
   * @version 4.5.0
   * @author  Henrique Avila Vianna <hvianna@gmail.com> <https://henriquevianna.com>
   * @license AGPL-3.0-or-later
   *)
*/
//# sourceMappingURL=pawtunes-tpl.min.js.map
