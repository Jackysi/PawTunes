var Ut="4.5.0",ct=Math.PI,Fe=2*ct,at=ct/2,mt=8.17579892;var wt="dual-combined",$e="dual-horizontal",ye="single",Le="dual-vertical",Lt="bar-index",Rt="bar-level",Ke="gradient",yt=60,Et="click",Vt="fullscreenchange",Ft="resize",$t="#111",Mt="",At="A",St="B",Tt="C",vt="D",Ct="468",Ye="sans-serif",Yt="#0f0",jt="#7f7f7f22",Me=10,bt="create",xt="fschange",Kt="lores",Qt=Ft,nt="user",Jt="#000c",Bt="#fff",Zt="#4f4",It="#888",ei="#555",rt="bark",Pe="linear",Ne="log",ot="mel",Ot=["#a35","#c66","#e94","#ed0","#9d5","#4d8","#2cb","#0bc","#09c","#36b"],Nt=[["classic",{colorStops:["red",{color:"yellow",level:.85,pos:.6},{color:"lime",level:.475}]}],["prism",{colorStops:Ot}],["rainbow",{dir:"h",colorStops:["#817",...Ot,"#639"]}],["orangered",{bgColor:"#3e2f29",colorStops:["OrangeRed"]}],["steelblue",{bgColor:"#222c35",colorStops:["SteelBlue"]}]],We={alphaBars:!1,ansiBands:!1,barSpace:.1,bgAlpha:.7,channelLayout:ye,colorMode:Ke,fadePeaks:!1,fftSize:8192,fillAlpha:1,frequencyScale:Ne,gradient:Nt[0][0],gravity:3.8,height:void 0,ledBars:!1,linearAmplitude:!1,linearBoost:1,lineWidth:0,loRes:!1,lumiBars:!1,maxDecibels:-25,maxFPS:0,maxFreq:22e3,minDecibels:-85,minFreq:20,mirror:0,mode:0,noteLabels:!1,outlineBars:!1,overlay:!1,peakFadeTime:750,peakHoldTime:500,peakLine:!1,radial:!1,radialInvert:!1,radius:.3,reflexAlpha:.15,reflexBright:1,reflexFit:!0,reflexRatio:0,roundBars:!1,showBgColor:!0,showFPS:!1,showPeaks:!0,showScaleX:!0,showScaleY:!1,smoothing:.5,spinSpeed:0,splitGradient:!1,start:!0,trueLeds:!1,useCanvas:!0,volume:1,weightingFilter:Mt,width:void 0},ti=["ERR_AUDIO_CONTEXT_FAIL","Could not create audio context. Web Audio API not supported?"],ii=["ERR_INVALID_AUDIO_CONTEXT","Provided audio context is not valid"],si=["ERR_UNKNOWN_GRADIENT","Unknown gradient"],lt=["ERR_FREQUENCY_TOO_LOW","Frequency values must be >= 1"],ai=["ERR_INVALID_MODE","Invalid mode"],ni=["ERR_REFLEX_OUT_OF_RANGE","Reflex ratio must be >= 0 and < 1"],ri=["ERR_INVALID_AUDIO_SOURCE","Audio source must be an instance of HTMLMediaElement or AudioNode"],oi=["ERR_GRADIENT_INVALID_NAME","Gradient name must be a non-empty string"],li=["ERR_GRADIENT_NOT_AN_OBJECT","Gradient options must be an object"],hi=["ERR_GRADIENT_MISSING_COLOR","Gradient colorStops must be a non-empty array"],se=class extends Error{constructor(e,t){let[s,n]=e;super(n+(t!==void 0?`: ${t}`:"")),this.name="AudioMotionError",this.code=s}},kt=(ae,e)=>console.warn(`${ae} is deprecated. Use ${e} instead.`),Dt=ae=>{for(let e in ae)return!1;return!0},je=(ae,e,t="toLowerCase")=>e[Math.max(0,e.indexOf((""+ae)[t]()))],ci=(ae,e,t,s,n)=>e+(s-e)*(n-ae)/(t-ae);Array.prototype.findLastIndex||(Array.prototype.findLastIndex=function(ae){let e=this.length;for(;e-- >0;)if(ae(this[e]))return e;return-1});var ht=class{constructor(e,t={}){this._ready=!1,this._aux={},this._canvasGradients=[],this._destroyed=!1,this._energy={val:0,peak:0,hold:0},this._flg={},this._fps=0,this._gradients={},this._last=0,this._outNodes=[],this._ownContext=!1,this._selectedGrads=[],this._sources=[],e instanceof Element||(Dt(t)&&!Dt(e)&&(t=e),e=null),this._ownCanvas=!(t.canvas instanceof HTMLCanvasElement);let s=this._ownCanvas?document.createElement("canvas"):t.canvas;s.style="max-width: 100%;",this._ctx=s.getContext("2d");for(let[m,b]of Nt)this.registerGradient(m,b);this._container=e||!this._ownCanvas&&s.parentElement||document.body,this._defaultWidth=this._container.clientWidth||640,this._defaultHeight=this._container.clientHeight||270;let n;if(!(t.source&&(n=t.source.context))){if(!(n=t.audioCtx))try{n=new(window.AudioContext||window.webkitAudioContext),this._ownContext=!0}catch{throw new se(ti)}}if(!n.createGain)throw new se(ii);let h=this._analyzer=[n.createAnalyser(),n.createAnalyser()],r=this._splitter=n.createChannelSplitter(2),o=this._merger=n.createChannelMerger(2);this._input=n.createGain(),this._output=n.createGain(),t.source&&this.connectInput(t.source);for(let m of[0,1])r.connect(h[m],m);o.connect(this._output),t.connectSpeakers!==!1&&this.connectOutput();for(let m of["_scaleX","_scaleR"])this[m]=document.createElement("canvas").getContext("2d");this._fsEl=t.fsElement||s;let c=()=>{this._fsTimeout||(this._fsTimeout=window.setTimeout(()=>{this._fsChanging||(this._setCanvas(Qt),this._fsTimeout=0)},yt))};window.ResizeObserver&&(this._observer=new ResizeObserver(c),this._observer.observe(this._container)),this._controller=new AbortController;let p=this._controller.signal;window.addEventListener(Ft,c,{signal:p}),s.addEventListener(Vt,()=>{this._fsChanging=!0,this._fsTimeout&&window.clearTimeout(this._fsTimeout),this._setCanvas(xt),this._fsTimeout=window.setTimeout(()=>{this._fsChanging=!1,this._fsTimeout=0},yt)},{signal:p});let _=()=>{n.state=="suspended"&&n.resume(),window.removeEventListener(Et,_)};window.addEventListener(Et,_),document.addEventListener("visibilitychange",()=>{document.visibilityState!="hidden"&&(this._frames=0,this._time=performance.now())},{signal:p}),this._setProps(t,!0),this.useCanvas&&this._ownCanvas&&this._container.appendChild(s),this._ready=!0,this._setCanvas(bt)}get alphaBars(){return this._alphaBars}set alphaBars(e){this._alphaBars=!!e,this._calcBars()}get ansiBands(){return this._ansiBands}set ansiBands(e){this._ansiBands=!!e,this._calcBars()}get barSpace(){return this._barSpace}set barSpace(e){this._barSpace=+e||0,this._calcBars()}get channelLayout(){return this._chLayout}set channelLayout(e){this._chLayout=je(e,[ye,$e,Le,wt]),this._input.disconnect(),this._input.connect(this._chLayout!=ye?this._splitter:this._analyzer[0]),this._analyzer[0].disconnect(),this._outNodes.length&&this._analyzer[0].connect(this._chLayout!=ye?this._merger:this._output),this._calcBars(),this._makeGrad()}get colorMode(){return this._colorMode}set colorMode(e){this._colorMode=je(e,[Ke,Lt,Rt])}get fadePeaks(){return this._fadePeaks}set fadePeaks(e){this._fadePeaks=!!e}get fftSize(){return this._analyzer[0].fftSize}set fftSize(e){for(let s of[0,1])this._analyzer[s].fftSize=e;let t=this._analyzer[0].frequencyBinCount;this._fftData=[new Float32Array(t),new Float32Array(t)],this._calcBars()}get frequencyScale(){return this._frequencyScale}set frequencyScale(e){this._frequencyScale=je(e,[Ne,rt,ot,Pe]),this._calcBars()}get gradient(){return this._selectedGrads[0]}set gradient(e){this._setGradient(e)}get gradientLeft(){return this._selectedGrads[0]}set gradientLeft(e){this._setGradient(e,0)}get gradientRight(){return this._selectedGrads[1]}set gradientRight(e){this._setGradient(e,1)}get gravity(){return this._gravity}set gravity(e){this._gravity=e>0?+e:this._gravity||We.gravity}get height(){return this._height}set height(e){this._height=e,this._setCanvas(nt)}get ledBars(){return this._showLeds}set ledBars(e){this._showLeds=!!e,this._calcBars()}get linearAmplitude(){return this._linearAmplitude}set linearAmplitude(e){this._linearAmplitude=!!e}get linearBoost(){return this._linearBoost}set linearBoost(e){this._linearBoost=e>=1?+e:1}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=+e||0}get loRes(){return this._loRes}set loRes(e){this._loRes=!!e,this._setCanvas(Kt)}get lumiBars(){return this._lumiBars}set lumiBars(e){this._lumiBars=!!e,this._calcBars(),this._makeGrad()}get maxDecibels(){return this._analyzer[0].maxDecibels}set maxDecibels(e){for(let t of[0,1])this._analyzer[t].maxDecibels=e}get maxFPS(){return this._maxFPS}set maxFPS(e){this._maxFPS=e<0?0:+e||0}get maxFreq(){return this._maxFreq}set maxFreq(e){if(e<1)throw new se(lt);this._maxFreq=Math.min(e,this.audioCtx.sampleRate/2),this._calcBars()}get minDecibels(){return this._analyzer[0].minDecibels}set minDecibels(e){for(let t of[0,1])this._analyzer[t].minDecibels=e}get minFreq(){return this._minFreq}set minFreq(e){if(e<1)throw new se(lt);this._minFreq=+e,this._calcBars()}get mirror(){return this._mirror}set mirror(e){this._mirror=Math.sign(e)|0,this._calcBars(),this._makeGrad()}get mode(){return this._mode}set mode(e){let t=e|0;if(t>=0&&t<=10&&t!=9)this._mode=t,this._calcBars(),this._makeGrad();else throw new se(ai,e)}get noteLabels(){return this._noteLabels}set noteLabels(e){this._noteLabels=!!e,this._createScales()}get outlineBars(){return this._outlineBars}set outlineBars(e){this._outlineBars=!!e,this._calcBars()}get peakFadeTime(){return this._peakFadeTime}set peakFadeTime(e){this._peakFadeTime=e>=0?+e:this._peakFadeTime||We.peakFadeTime}get peakHoldTime(){return this._peakHoldTime}set peakHoldTime(e){this._peakHoldTime=+e||0}get peakLine(){return this._peakLine}set peakLine(e){this._peakLine=!!e}get radial(){return this._radial}set radial(e){this._radial=!!e,this._calcBars(),this._makeGrad()}get radialInvert(){return this._radialInvert}set radialInvert(e){this._radialInvert=!!e,this._calcBars(),this._makeGrad()}get radius(){return this._radius}set radius(e){this._radius=+e||0,this._calcBars(),this._makeGrad()}get reflexRatio(){return this._reflexRatio}set reflexRatio(e){if(e=+e||0,e<0||e>=1)throw new se(ni);this._reflexRatio=e,this._calcBars(),this._makeGrad()}get roundBars(){return this._roundBars}set roundBars(e){this._roundBars=!!e,this._calcBars()}get smoothing(){return this._analyzer[0].smoothingTimeConstant}set smoothing(e){for(let t of[0,1])this._analyzer[t].smoothingTimeConstant=e}get spinSpeed(){return this._spinSpeed}set spinSpeed(e){e=+e||0,(this._spinSpeed===void 0||e==0)&&(this._spinAngle=-at),this._spinSpeed=e}get splitGradient(){return this._splitGradient}set splitGradient(e){this._splitGradient=!!e,this._makeGrad()}get stereo(){return kt("stereo","channelLayout"),this._chLayout!=ye}set stereo(e){kt("stereo","channelLayout"),this.channelLayout=e?Le:ye}get trueLeds(){return this._trueLeds}set trueLeds(e){this._trueLeds=!!e}get volume(){return this._output.gain.value}set volume(e){this._output.gain.value=e}get weightingFilter(){return this._weightingFilter}set weightingFilter(e){this._weightingFilter=je(e,[Mt,At,St,Tt,vt,Ct],"toUpperCase")}get width(){return this._width}set width(e){this._width=e,this._setCanvas(nt)}get audioCtx(){return this._input.context}get canvas(){return this._ctx.canvas}get canvasCtx(){return this._ctx}get connectedSources(){return this._sources}get connectedTo(){return this._outNodes}get fps(){return this._fps}get fsHeight(){return this._fsHeight}get fsWidth(){return this._fsWidth}get isAlphaBars(){return this._flg.isAlpha}get isBandsMode(){return this._flg.isBands}get isDestroyed(){return this._destroyed}get isFullscreen(){return this._fsEl&&(document.fullscreenElement||document.webkitFullscreenElement)===this._fsEl}get isLedBars(){return this._flg.isLeds}get isLumiBars(){return this._flg.isLumi}get isOctaveBands(){return this._flg.isOctaves}get isOn(){return!!this._runId}get isOutlineBars(){return this._flg.isOutline}get pixelRatio(){return this._pixelRatio}get isRoundBars(){return this._flg.isRound}static get version(){return Ut}connectInput(e){let t=e instanceof HTMLMediaElement;if(!(t||e.connect))throw new se(ri);let s=t?this.audioCtx.createMediaElementSource(e):e;return this._sources.includes(s)||(s.connect(this._input),this._sources.push(s)),s}connectOutput(e=this.audioCtx.destination){if(!this._outNodes.includes(e)&&(this._output.connect(e),this._outNodes.push(e),this._outNodes.length==1))for(let t of[0,1])this._analyzer[t].connect(this._chLayout==ye&&!t?this._output:this._merger,0,t)}destroy(){if(!this._ready)return;let{audioCtx:e,canvas:t,_controller:s,_input:n,_merger:h,_observer:r,_ownCanvas:o,_ownContext:c,_splitter:p}=this;this._destroyed=!0,this._ready=!1,this.stop(),s.abort(),r&&r.disconnect(),this.onCanvasResize=null,this.onCanvasDraw=null,this._fsEl=null,this.disconnectInput(),this.disconnectOutput(),n.disconnect(),p.disconnect(),h.disconnect(),c&&e.close(),o&&t.remove(),this._calcBars()}disconnectInput(e,t){e?Array.isArray(e)||(e=[e]):e=Array.from(this._sources);for(let s of e){let n=this._sources.indexOf(s);if(t&&s.mediaStream)for(let h of s.mediaStream.getAudioTracks())h.stop();n>=0&&(s.disconnect(this._input),this._sources.splice(n,1))}}disconnectOutput(e){if(!(e&&!this._outNodes.includes(e))&&(this._output.disconnect(e),this._outNodes=e?this._outNodes.filter(t=>t!==e):[],this._outNodes.length==0))for(let t of[0,1])this._analyzer[t].disconnect()}getBars(){return Array.from(this._bars,({posX:e,freq:t,freqLo:s,freqHi:n,hold:h,peak:r,value:o})=>({posX:e,freq:t,freqLo:s,freqHi:n,hold:h,peak:r,value:o}))}getEnergy(e,t){if(e===void 0)return this._energy.val;if(e!=+e){if(e=="peak")return this._energy.peak;let o={bass:[20,250],lowMid:[250,500],mid:[500,2e3],highMid:[2e3,4e3],treble:[4e3,16e3]};if(!o[e])return null;[e,t]=o[e]}let s=this._freqToBin(e),n=t?this._freqToBin(t):s,h=this._chLayout==ye?1:2,r=0;for(let o=0;o<h;o++)for(let c=s;c<=n;c++)r+=this._normalizedB(this._fftData[o][c]);return r/(n-s+1)/h}getOptions(e){Array.isArray(e)||(e=[e]);let t={};for(let s of Object.keys(We))e.includes(s)||(s=="gradient"&&this.gradientLeft!=this.gradientRight?(t.gradientLeft=this.gradientLeft,t.gradientRight=this.gradientRight):s!="start"&&(t[s]=this[s]));return t}registerGradient(e,t){if(typeof e!="string"||e.trim().length==0)throw new se(oi);if(typeof t!="object")throw new se(li);let{colorStops:s}=t;if(!Array.isArray(s)||!s.length)throw new se(hi);let n=s.length,h=r=>+r!=r||r<0||r>1;s.forEach((r,o)=>{let c=o/Math.max(1,n-1);typeof r!="object"?s[o]={pos:c,color:r}:h(r.pos)&&(r.pos=c),h(r.level)&&(s[o].level=1-o/n)}),s.sort((r,o)=>r.level<o.level?1:r.level>o.level?-1:0),s[0].level=1,this._gradients[e]={bgColor:t.bgColor||$t,dir:t.dir,colorStops:s},this._selectedGrads.includes(e)&&this._makeGrad()}setCanvasSize(e,t){this._width=e,this._height=t,this._setCanvas(nt)}setFreqRange(e,t){if(e<1||t<1)throw new se(lt);this._minFreq=Math.min(e,t),this.maxFreq=Math.max(e,t)}setLedParams(e){let t,s,n;e&&(t=e.maxLeds|0,s=+e.spaceV,n=+e.spaceH),this._ledParams=t>0&&s>0&&n>=0?[t,s,n]:void 0,this._calcBars()}setOptions(e){this._setProps(e)}setSensitivity(e,t){for(let s of[0,1])this._analyzer[s].minDecibels=Math.min(e,t),this._analyzer[s].maxDecibels=Math.max(e,t)}start(){this.toggleAnalyzer(!0)}stop(){this.toggleAnalyzer(!1)}toggleAnalyzer(e){let t=this.isOn;return e===void 0&&(e=!t),t&&!e?(cancelAnimationFrame(this._runId),this._runId=0):!t&&e&&!this._destroyed&&(this._frames=0,this._time=performance.now(),this._runId=requestAnimationFrame(s=>this._draw(s))),this.isOn}toggleFullscreen(){if(this.isFullscreen)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{let e=this._fsEl;if(!e)return;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}}_binToFreq(e){return e*this.audioCtx.sampleRate/this.fftSize||1}_calcBars(){let e=this._bars=[];if(!this._ready){this._flg={isAlpha:!1,isBands:!1,isLeds:!1,isLumi:!1,isOctaves:!1,isOutline:!1,isRound:!1,noLedGap:!1};return}let{_ansiBands:t,_barSpace:s,canvas:n,_chLayout:h,_maxFreq:r,_minFreq:o,_mirror:c,_mode:p,_radial:_,_radialInvert:m,_reflexRatio:b}=this,N=n.width>>1,Y=n.height>>1,W=h==Le&&!_,X=h==$e,F=p%10!=0,ne=F&&this._frequencyScale==Ne,y=this._showLeds&&F&&!_,M=this._lumiBars&&F&&!_,fe=this._alphaBars&&!M&&p!=Me,J=this._outlineBars&&F&&!M&&!y,E=this._roundBars&&F&&!M&&!y,j=h!=Le||b>0&&!M,z=n.height-(W&&!y?.5:0)>>W,V=z*(M||_?1:1-b)|0,i=n.width-N*(X||c!=0),K=W?n.height-z*2:0,ge=N*(c==-1&&!X&&!_),le=Math.min(n.width,n.height)*.375*(h==Le?1:this._radius)|0,O=Math.min(N,Y);m&&h!=Le&&([le,O]=[O,le]);let x=v=>e.push({...v,peak:[0,0],hold:[0],alpha:[0],value:[0]}),A=v=>{let B=this._freqToBin(v,"floor"),w=this._binToFreq(B),R=this._binToFreq(B+1),D=Math.log2(v/w)/Math.log2(R/w);return[B,D]},u,H,C;if(ne){let v=(T,g,ce)=>+T.toPrecision(ce?Math.max(g,1+Math.log10(T)|0):g),B=T=>{let g=[1,1.12,1.25,1.4,1.6,1.8,2,2.24,2.5,2.8,3.15,3.55,4,4.5,5,5.6,6.3,7.1,8,9,10],ce=Math.log10(T)|0,ve=T/10**ce,re=1;for(;re<g.length&&ve>g[re];)re++;return ve-g[re-1]<g[re]-ve&&re--,(g[re]*10**(ce+5)|0)/1e5},w=[0,24,12,8,6,4,3,2,1][p],R=t?10**(3/(w*10)):2**(1/w),D=R**.5,he=[],G=t?7.94328235/(w%2?1:D):mt;do{let T=G,g=v(T/D,4,!0),ce=v(T*D,4,!0),[ve,re]=A(g),[pe,ze]=A(ce);t?T=w<4?B(T):v(T,T.toString()[0]<5?3:2):T=v(T,4,!0),T>=o&&x({posX:0,freq:T,freqLo:g,freqHi:ce,binLo:ve,binHi:pe,ratioLo:re,ratioHi:ze}),G*=R}while(G<=r);u=i/e.length,e.forEach((T,g)=>T.posX=ge+g*u);let Q=e[0],Z=e[e.length-1];H=this._freqScaling(Q.freqLo),C=i/(this._freqScaling(Z.freqHi)-H),Q.freqLo<o&&(Q.freqLo=o,[Q.binLo,Q.ratioLo]=A(o)),Z.freqHi>r&&(Z.freqHi=r,[Z.binHi,Z.ratioHi]=A(r))}else if(F){let v=[0,24,12,8,6,4,3,2,1][p]*10,B=w=>{switch(this._frequencyScale){case rt:return 1960/(26.81/(w+.53)-1);case ot:return 700*(2**w-1);case Pe:return w}};u=i/v,H=this._freqScaling(o),C=i/(this._freqScaling(r)-H);for(let w=0,R=0;w<v;w++,R+=u){let D=B(H+R/C),he=B(H+(R+u/2)/C),G=B(H+(R+u)/C),[Q,Z]=A(D),[T,g]=A(G);x({posX:ge+R,freq:he,freqLo:D,freqHi:G,binLo:Q,binHi:T,ratioLo:Z,ratioHi:g})}}else{u=1,H=this._freqScaling(o),C=i/(this._freqScaling(r)-H);let v=this._freqToBin(o,"floor"),B=this._freqToBin(r),w=-999;for(let R=v;R<=B;R++){let D=this._binToFreq(R),he=ge+Math.round(C*(this._freqScaling(D)-H));if(he>w)x({posX:he,freq:D,freqLo:D,freqHi:D,binLo:R,binHi:R,ratioLo:0,ratioHi:0}),w=he;else if(e.length){let G=e[e.length-1];G.binHi=R,G.freqHi=D,G.freq=(G.freqLo*D)**.5}}}let te=0,P=0;if(y){let v=this._pixelRatio/(window.devicePixelRatio>1&&window.screen.height<=540?2:1),B=[[],[128,3,.45],[128,4,.225],[96,6,.225],[80,6,.225],[80,6,.125],[64,6,.125],[48,8,.125],[24,16,.125]],w=this._ledParams,[R,D,he]=w||B[p],G,Q=V;if(w){let Z=2*v,T;G=R+1;do G--,T=Q/G/(1+D),P=T*D;while((T<Z||P<Z)&&G>1)}else{let Z=540/D;P=Math.min(D*v,Math.max(2,Q/Z+.1|0))}j&&(Q+=P),w||(G=Math.min(R,Q/(P*2)|0)),te=he>=1?he:u*he,this._leds=[G,te,P,Q/G-P]}let S=Math.min(u-1,s*(s>0&&s<1?u:1));F&&(u-=Math.max(y?te:0,S)),e.forEach((v,B)=>{let w=v.posX,R=u;F&&(s==0&&!y?(w|=0,R|=0,B>0&&w>e[B-1].posX+e[B-1].width&&(w--,R++)):w+=Math.max(y?te:0,S)/2,v.posX=w),v.barCenter=w+(u==1?0:R/2),v.width=R});let ue=[];for(let v of[0,1]){let B=h==Le?(z+K)*v:0,w=B+z,R=B+V-(!y||j?0:P);ue.push({channelTop:B,channelBottom:w,analyzerBottom:R})}this._aux={analyzerHeight:V,analyzerWidth:i,centerX:N,centerY:Y,channelCoords:ue,channelHeight:z,channelGap:K,initialX:ge,innerRadius:le,outerRadius:O,scaleMin:H,unitWidth:C},this._flg={isAlpha:fe,isBands:F,isLeds:y,isLumi:M,isOctaves:ne,isOutline:J,isRound:E,noLedGap:j},this._createScales()}_createScales(){if(!this._ready)return;let{analyzerWidth:e,initialX:t,innerRadius:s,scaleMin:n,unitWidth:h}=this._aux,{canvas:r,_frequencyScale:o,_mirror:c,_noteLabels:p,_radial:_,_scaleX:m,_scaleR:b}=this,N=m.canvas,Y=b.canvas,W=[],X=this._chLayout==$e,F=this._chLayout==Le,ne=Math.min(r.width,r.height),y=["C",,"D",,"E","F",,"G",,"A",,"B"],M=ne/34|0,fe=N.height>>1,J=M>>1,E=fe*(p?.7:1.5),j=J*(p?1:2),z=2**(1/12);if(!p&&(this._ansiBands||o!=Ne))W.push(16,31.5,63,125,250,500,1e3,2e3,4e3),o==Pe?W.push(6e3,8e3,1e4,12e3,14e3,16e3,18e3,2e4,22e3):W.push(8e3,16e3);else{let O=mt;for(let x=-1;x<11;x++)for(let A=0;A<12;A++){if(O>=this._minFreq&&O<=this._maxFreq){let u=y[A],H=u=="C";(u&&p&&!c&&!X||H)&&W.push(p?[O,u+(H?x:"")]:O)}O*=z}}Y.width=Y.height=Math.max(ne*.15,(s<<1)+F*M);let V=Y.width>>1,i=V-M*.7,K=(O,x)=>{let A=Fe*(O/r.width),u=A-at,H=i*Math.cos(u),C=i*Math.sin(u);b.save(),b.translate(V+H,V+C),b.rotate(A),b.fillText(x,0,0),b.restore()};N.width|=0,m.fillStyle=b.strokeStyle=Jt,m.fillRect(0,0,N.width,N.height),b.arc(V,V,V-M/2,0,Fe),b.lineWidth=M,b.stroke(),m.fillStyle=b.fillStyle=Bt,m.font=`${fe}px ${Ye}`,b.font=`${J}px ${Ye}`,m.textAlign=b.textAlign="center";let ge=-E/4,le=-j;for(let O of W){let[x,A]=Array.isArray(O)?O:[O,O<1e3?O|0:`${(O/100|0)/10}k`],u=h*(this._freqScaling(x)-n),H=N.height*.75,C=A[0]=="C",te=fe*(p&&!c&&!X?C?1.2:.6:3);if(m.fillStyle=b.fillStyle=C&&!c&&!X?Zt:Bt,p){let P=o==Ne,S=o==Pe,ue=["C"];if((P||x>2e3||!S&&x>250||(!_||F)&&(!S&&x>125||x>1e3))&&ue.push("G"),(P||x>4e3||!S&&x>500||(!_||F)&&(!S&&x>250||x>2e3))&&ue.push("E"),(S&&x>4e3||(!_||F)&&(P||x>2e3||!S&&x>500))&&ue.push("D","F","A","B"),!ue.includes(A[0]))continue}u>=ge+E/2&&u<=e&&(m.fillText(A,X&&c==-1?e-u:t+u,H,te),(X||c&&(u>E||c==1))&&m.fillText(A,X&&c!=1?e+u:(t||r.width)-u,H,te),ge=u+Math.min(te,m.measureText(A).width)/2),u>=le+j&&u<e-j&&(K(X&&c==1?e-u:u,A),(X||c&&(u>j||c==1))&&K(X&&c!=-1?e+u:-u,A),le=u)}}_draw(e){this._runId=requestAnimationFrame(a=>this._draw(a));let t=e-this._time,s=e-this._last,n=this._maxFPS?975/this._maxFPS:0;if(s<n)return;this._last=e-(n?s%n:0),this._frames++,t>=1e3&&(this._fps=this._frames/t*1e3,this._frames=0,this._time=e);let{isAlpha:h,isBands:r,isLeds:o,isLumi:c,isOctaves:p,isOutline:_,isRound:m,noLedGap:b}=this._flg,{analyzerHeight:N,centerX:Y,centerY:W,channelCoords:X,channelHeight:F,channelGap:ne,initialX:y,innerRadius:M,outerRadius:fe}=this._aux,{_bars:J,canvas:E,_canvasGradients:j,_chLayout:z,_colorMode:V,_ctx:i,_energy:K,_fadePeaks:ge,fillAlpha:le,_fps:O,_linearAmplitude:x,_lineWidth:A,maxDecibels:u,minDecibels:H,_mirror:C,_mode:te,overlay:P,_radial:S,showBgColor:ue,showPeaks:v,useCanvas:B,_weightingFilter:w}=this,R=this._scaleX.canvas,D=this._scaleR.canvas,he=O*this._peakFadeTime/1e3,G=O**2,Q=this._gravity*1e3,Z=O*this._peakHoldTime/1e3,T=z==wt,g=z==$e,ce=z==Le,ve=z==ye,re=o&&this._trueLeds&&V==Ke,pe=S?E.width:this._aux.analyzerWidth,ze=y+pe,He=v&&this._peakLine&&te==Me,Ee=S?fe-M:N,Ht=Ee/this._pixelRatio,di=u-H,[Gt,fi,Ge,Qe]=this._leds||[];K.val>0&&O>0&&(this._spinAngle+=this._spinSpeed*Fe/60/O);let qt=a=>{if(this._reflexRatio>0&&!c&&!S){let L,me;this.reflexFit||ce?(L=ce&&a==0?F+ne:0,me=F-N):(L=E.height-N*2,me=N),i.save(),i.globalAlpha=this.reflexAlpha,this.reflexBright!=1&&(i.filter=`brightness(${this.reflexBright})`),i.setTransform(1,0,0,-1,0,E.height),i.drawImage(E,0,X[a].channelTop,E.width,N,0,L,E.width,me),i.restore()}},Pt=()=>{this.showScaleX&&(S?(i.save(),i.translate(Y,W),this._spinSpeed&&i.rotate(this._spinAngle+at),i.drawImage(D,-D.width>>1,-D.width>>1),i.restore()):i.drawImage(R,0,E.height-R.height))},Wt=a=>{let L=a**2,me=424.36,$=11599.29,Xe=25122.25,Ae=544496.41,Re=148693636,be=xe=>20*Math.log10(xe);switch(w){case At:let xe=Re*L**2/((L+me)*Math.sqrt((L+$)*(L+Ae))*(L+Re));return 2+be(xe);case St:let Be=Re*L*a/((L+me)*Math.sqrt(L+Xe)*(L+Re));return .17+be(Be);case Tt:let et=Re*L/((L+me)*(L+Re));return .06+be(et);case vt:let Ue=((103791848e-2-L)**2+108076816e-2*L)/((9837328-L)**2+11723776*L),tt=a/68966888496476e-18*Math.sqrt(Ue/((L+79919.29)*(L+1345600)));return be(tt);case Ct:let Ve=-4737338981378384e-39*a**6+2043828333606125e-30*a**4-1363894795463638e-22*L+1,Ie=1306612257412824e-34*a**5-2118150887518656e-26*a**3+.0005559488023498642*a,oe=.0001246332637532143*a/Math.hypot(Ve,Ie);return 18.2+be(oe)}return 0},Je=(a,L,me)=>{i.beginPath(),i.moveTo(a,L),i.lineTo(a,me),i.stroke()},Ze=a=>{if(a&&A){let L=i.globalAlpha;i.globalAlpha=1,i.stroke(),i.globalAlpha=L}},Ce=a=>Math.max(0,(a*Gt|0)*(Qe+Ge)-Ge),Xt=a=>{K.val=a,K.peak>0&&(K.hold--,K.hold<0&&(K.peak+=K.hold*Q/G/E.height*this._pixelRatio)),a>=K.peak&&(K.peak=a,K.hold=Z)};P&&i.clearRect(0,0,E.width,E.height);let ft=0,ut=J.length,_t=ve?1:2;for(let a=0;a<_t;a++){let{channelTop:L,channelBottom:me,analyzerBottom:$}=X[a],Xe=this._gradients[this._selectedGrads[a]],Ae=Xe.colorStops,Re=Ae.length,be=!ue||o&&!P?"#000":Xe.bgColor,xe=ce&&S&&a?-1:1,Be=!a&&C==-1||a&&C==1,et=!g||a&&C!=1?0:pe>>(a||!Be),Ue=g&&Be?-1:1,tt=()=>{let l=R.height,d=l>>1,f=x?100:u,k=x?0:H,q=x?20:5,ie=N/(f-k),we=C!=-1&&(!g||a==0||C==1),Se=C!=1&&(!g||a!=C);i.save(),i.fillStyle=It,i.font=`${d}px ${Ye}`,i.textAlign="right",i.lineWidth=1;for(let Te=f;Te>k;Te-=q){let ke=L+(f-Te)*ie,U=Te%2==0|0;if(U){let ee=ke+d*(ke==L?.8:.35);we&&i.fillText(Te,l*.85,ee),Se&&i.fillText(Te,(g?pe:E.width)-l*.1,ee),i.strokeStyle=It,i.setLineDash([2,4]),i.lineDashOffset=0}else i.strokeStyle=ei,i.setLineDash([2,8]),i.lineDashOffset=1;i.beginPath(),i.moveTo(y+l*U*we,~~ke+.5),i.lineTo(ze-l*U*Se,~~ke+.5),i.stroke()}i.restore()},Ve=(l,d)=>{let f=_e[l]+(l<_e.length-1?(_e[l+1]-_e[l])*d:0);return isNaN(f)?-1/0:f},Ie=(l,d=Ue)=>d*Fe*((l+et)/E.width)+this._spinAngle,oe=(l,d,f)=>{let k=M+d*xe,q=Ie(l,f);return[Y+k*Math.cos(q),W+k*Math.sin(q)]},it=(l,d,f,k,q)=>{i.beginPath();for(let ie of C&&!g?[1,-1]:[Ue]){let[we,Se]=m?[Ie(l,ie),Ie(l+f,ie)]:[];i.moveTo(...oe(l,d,ie)),i.lineTo(...oe(l,d+k,ie)),m?i.arc(Y,W,M+(d+k)*xe,we,Se,ie!=1):i.lineTo(...oe(l+f,d+k,ie)),i.lineTo(...oe(l+f,d,ie)),m&&!q&&i.arc(Y,W,M+d*xe,Se,we,ie==1)}Ze(q),i.fill()},st=(l=0,d=0)=>{let f;if(V==Ke&&!re||te==Me)f=j[a];else{let k=V==Lt?d%Re:Ae.findLastIndex(q=>o?Ce(l)<=Ce(q.level):l<=q.level);f=Ae[k].color}i.fillStyle=i.strokeStyle=f};if(B){if(g&&!S){let l=pe*(a+Be),d=Be?-1:1;i.setTransform(d,0,0,1,l,0)}if((!P||ue)&&(P&&(i.globalAlpha=this.bgAlpha),i.fillStyle=be,(a==0||!S&&!T)&&i.fillRect(y,L-ne,pe,(P&&this.reflexAlpha==1?N:F)+ne),i.globalAlpha=1),this.showScaleY&&!c&&!S&&(a==0||!T)&&tt(),o?(i.setLineDash([Qe,Ge]),i.lineWidth=J[0].width):i.lineWidth=_?Math.min(A,J[0].width/2):A,i.save(),!S){let l=new Path2D;l.rect(0,L,E.width,N),i.clip(l)}}let _e=this._fftData[a];this._analyzer[a].getFloatFrequencyData(_e),w&&(_e=_e.map((l,d)=>l+Wt(this._binToFreq(d)))),i.beginPath();let qe=[];for(let l=0;l<ut;l++){let d=J[l],{posX:f,barCenter:k,width:q,freq:ie,binLo:we,binHi:Se,ratioLo:Te,ratioHi:ke}=d,U=Math.max(Ve(we,Te),Ve(Se,ke));for(let I=we+1;I<Se;I++)_e[I]>U&&(U=_e[I]);if(U=this._normalizedB(U),d.value[a]=U,ft+=U,d.peak[a]>0&&d.alpha[a]>0&&(d.hold[a]--,d.hold[a]<0)){if(ge&&!He){let I=!h||_&&A>0?1:h?d.peak[a]:le;d.alpha[a]=I*(1+d.hold[a]/he)}else d.peak[a]+=d.hold[a]*Q/G/Ht;d.alpha[a]<=0&&(d.peak[a]=0)}if(U>=d.peak[a]&&(d.peak[a]=U,d.hold[a]=Z,d.alpha[a]=!h||_&&A>0?1:h?U:le),!B)continue;i.globalAlpha=c||h?U:_?le:1,st(U,l);let ee=c?Ee:o?Ce(U):U*Ee|0;if(te==Me){let I=l?0:(this._normalizedB(_e[J[1].binLo])*Ee+ee)/2;if(S){if(l==0&&(g&&i.moveTo(...oe(0,0)),i.lineTo(...oe(0,f<0?I:ee))),f>=0){let de=[f,ee];i.lineTo(...oe(...de)),qe.push(de)}}else{if(l==0)if(C==-1&&!g)i.moveTo(y,$-(f<y?I:ee));else{let de=we?this._normalizedB(_e[we-1])*Ee:ee;i.moveTo(y-A,$-de)}(g||C!=-1||f>=y)&&i.lineTo(f,$-ee)}}else if(o){if(ue&&!P&&(a==0||!T)){let I=i.globalAlpha;i.strokeStyle=jt,i.globalAlpha=1,Je(k,L,$),i.strokeStyle=i.fillStyle,i.globalAlpha=I}if(re){let I=c?0:Ae.findLastIndex(Oe=>Ce(U)<=Ce(Oe.level)),de=$;for(let Oe=Re-1;Oe>=I;Oe--){i.strokeStyle=Ae[Oe].color;let pt=$-(Oe==I?ee:Ce(Ae[Oe].level));Je(k,de,pt),de=pt-Ge}}else Je(k,$,$-ee)}else if(f>=y)if(S)it(f,0,q,ee,_);else if(m){let I=q/2,de=$+I;i.beginPath(),i.moveTo(f,de),i.lineTo(f,de-ee),i.arc(k,de-ee,I,ct,Fe),i.lineTo(f+q,de),Ze(_),i.fill()}else{let I=_?i.lineWidth:0;i.beginPath(),i.rect(f,$+I,q,-ee-I),Ze(_),i.fill()}let De=d.peak[a],gt=d.alpha[a];if(De>0&&gt>0&&v&&!He&&!c&&f>=y&&f<ze){if(ge?i.globalAlpha=gt:_&&A>0?i.globalAlpha=1:h&&(i.globalAlpha=De),(V==Rt||re)&&st(De),o){let I=Ce(De);I>=Ge&&i.fillRect(f,$-I,q,Qe)}else if(!S)i.fillRect(f,$-De*Ee,q,2);else if(te!=Me){let I=De*Ee;it(f,I,q,!this._radialInvert||ce||I+M>=2?-2:2)}}}if(B){if(i.globalAlpha=1,te==Me){if(st(),S&&!g){if(C){let l;for(;l=qe.pop();)i.lineTo(...oe(...l,-1))}i.closePath()}if(A>0&&i.stroke(),le>0){if(S){let l=g?Ie(pe>>1):0,d=g?Ie(pe):Fe;i.moveTo(...oe(g?pe>>1:0,0)),i.arc(Y,W,M,l,d,g?!Be:!0)}else i.lineTo(ze,$),i.lineTo(y,$);i.globalAlpha=le,i.fill(),i.globalAlpha=1}if((He||S&&v)&&(qe=[],i.beginPath(),J.forEach((l,d)=>{let f=l.posX,k=l.peak[a],q=d?"lineTo":"moveTo";if(S&&f<0){let ie=J[d+1];k=ci(f,k,ie.posX,ie.peak[a],0),f=0}k*=Ee,He?(i[q](...S?oe(f,k):[f,$-k]),S&&C&&!g&&qe.push([f,k])):k>0&&it(f,k,1,-2)}),He)){let l;for(;l=qe.pop();)i.lineTo(...oe(...l,-1));i.lineWidth=1,i.stroke()}}i.restore(),g&&!S&&i.setTransform(1,0,0,1,0,0),(!g&&!T||a)&&qt(a)}}if(Xt(ft/(ut<<_t-1)),B&&(C&&!S&&!g&&(i.setTransform(-1,0,0,1,E.width-y,0),i.drawImage(E,y,0,Y,E.height,0,0,Y,E.height),i.setTransform(1,0,0,1,0,0)),i.setLineDash([]),Pt()),this.showFPS){let a=R.height;i.font=`bold ${a}px ${Ye}`,i.fillStyle=Yt,i.textAlign="right",i.fillText(Math.round(O),E.width-a,a*2)}this.onCanvasDraw&&(i.save(),i.fillStyle=i.strokeStyle=j[0],this.onCanvasDraw(this,{timestamp:e,canvasGradients:j}),i.restore())}_freqScaling(e){switch(this._frequencyScale){case Ne:return Math.log2(e);case rt:return 26.81*e/(1960+e)-.53;case ot:return Math.log2(1+e/700);case Pe:return e}}_freqToBin(e,t="round"){let s=this._analyzer[0].frequencyBinCount-1,n=Math[t](e*this.fftSize/this.audioCtx.sampleRate);return n<s?n:s}_makeGrad(){if(!this._ready)return;let{canvas:e,_ctx:t,_radial:s,_reflexRatio:n}=this,{analyzerWidth:h,centerX:r,centerY:o,initialX:c,innerRadius:p,outerRadius:_}=this._aux,{isLumi:m}=this._flg,b=this._chLayout==Le,N=1-n,Y=m?e.height:e.height*(1-n*!b)|0;for(let W of[0,1]){let X=this._gradients[this._selectedGrads[W]],F=X.colorStops,ne=X.dir=="h",y;if(s?y=t.createRadialGradient(r,o,_,r,o,p-(_-p)*b):y=t.createLinearGradient(...ne?[c,0,c+h,0]:[0,0,0,Y]),F){let M=b&&!this._splitGradient&&(!ne||s);for(let fe=0;fe<1+M;fe++){let J=F.length-1;F.forEach((E,j)=>{let z=E.pos;if(M&&(z/=2),b&&!m&&!s&&!ne&&(z*=N,!M&&z>.5*N&&(z+=.5*n)),fe==1)if(s||m){let V=J-j;E=F[V],z=1-E.pos/2}else j==0&&z>0&&y.addColorStop(.5,E.color),z+=.5;y.addColorStop(z,E.color),b&&j==J&&z<.5&&y.addColorStop(.5,E.color)})}}this._canvasGradients[W]=y}}_normalizedB(e){let t=this._linearAmplitude,s=t?1/this._linearBoost:1,n=(c,p,_)=>c<=p?p:c>=_?_:c,h=c=>10**(c/20),r=this.maxDecibels,o=this.minDecibels;return t&&(r=h(r),o=h(o),e=h(e)**s),n((e-o)/(r-o)**s,0,1)}_setCanvas(e){if(!this._ready)return;let{canvas:t,_ctx:s}=this,n=this._scaleX.canvas,h=window.devicePixelRatio/(this._loRes+1),r=window.screen.width*h,o=window.screen.height*h;Math.abs(window.orientation)==90&&r<o&&([r,o]=[o,r]);let c=this.isFullscreen,p=c&&this._fsEl==t,_=p?r:(this._width||this._container.clientWidth||this._defaultWidth)*h|0,m=p?o:(this._height||this._container.clientHeight||this._defaultHeight)*h|0;this._pixelRatio=h,this._fsWidth=r,this._fsHeight=o,!(e!=bt&&t.width==_&&t.height==m)&&(t.width=_,t.height=m,this.overlay||(s.fillStyle="#000",s.fillRect(0,0,_,m)),s.lineJoin="bevel",n.width=_,n.height=Math.max(20*h,Math.min(_,m)/32|0),this._calcBars(),this._makeGrad(),this._fsStatus!==void 0&&this._fsStatus!==c&&(e=xt),this._fsStatus=c,this.onCanvasResize&&this.onCanvasResize(e,this))}_setGradient(e,t){if(!this._gradients.hasOwnProperty(e))throw new se(si,e);[0,1].includes(t)||(this._selectedGrads[1]=e,t=0),this._selectedGrads[t]=e,this._makeGrad()}_setProps(e,t){let s=["onCanvasDraw","onCanvasResize"],n=["gradientLeft","gradientRight","stereo"],h=Object.keys(We).filter(r=>r!="start").concat(s,n);(t||e===void 0)&&(e={...We,...e});for(let r of Object.keys(e))s.includes(r)&&typeof e[r]!="function"?this[r]=void 0:h.includes(r)&&(this[r]=e[r]);e.start!==void 0&&this.toggleAnalyzer(e.start)}};var zt=ht;var dt=class{constructor(e){this.resizeCounter=0;this.firstResize=new Date;this.pawtunes=e,this.pawtunes.on("ready",()=>{this.pawtunes._(".preloader",t=>t.classList.add("hidden")),this.pawtunes.channels.length<=1&&this.pawtunes._(".btn-channels-list",t=>t.classList.add("hidden"))}),this.pawtunes.isNoVolume=!0,this.pawtunes.init(),this.initSpectrum(),this.bindEvents(),this.bindPagination(),this.fitPopupWindow()}bindPagination(){this.pawtunes._("[data-page]",e=>{e.addEventListener("click",t=>{t.preventDefault();let s=e.getAttribute("data-page");s&&this.pawtunes.pagination(s)})})}bindEvents(){this.pawtunes.on("channel.change",()=>{this.pawtunes.pagination("main"),this.pawtunes._(".onair .track-artist",e=>e.textContent=this.pawtunes.settings.trackInfo.default.artist),this.pawtunes._(".onair .track-title",e=>e.textContent=this.pawtunes.settings.trackInfo.default.title)}),this.pawtunes._(".share-area .facebook-share",e=>{e.addEventListener("click",t=>{t.preventDefault(),window.open(`https://www.facebook.com/sharer/sharer.php?u=${this.pawtunes.url}`,"fb_share","width=800, height=400")})}),this.pawtunes._(".share-area .x-share",e=>{e.addEventListener("click",t=>{t.preventDefault();let s=this.pawtunes.onAir.artist+" - "+this.pawtunes.onAir.title;window.open(`https://x.com/share?url=${this.pawtunes.url}&text=${encodeURIComponent(this.pawtunes.translate("twitter_share","TRACK",s))}`,"x_share","width=800, height=800")})}),this.pawtunes.on("track.change",e=>{let t=this.pawtunes._(".onair .track-artist")[0],s=this.pawtunes._(".onair .track-title")[0];!t||!s||(t.innerText=e.artist,s.innerText=e.title,e.artist.length>=this.pawtunes.settings.trackInfo.artistMaxLen&&this.marquee(t),e.title.length>=this.pawtunes.settings.trackInfo.titleMaxLen&&this.marquee(s))})}fitPopupWindow(){if(!this.pawtunes?.settings.tpl.autoWindowResize)return;let e=document.querySelector(".main-container");if(!e)return;let t=function(){this.resizeCounter++,window.resizeTo(e.offsetWidth+(window.outerWidth-window.innerWidth),e.offsetHeight+(window.outerHeight-window.innerHeight)),this.resizeCounter>50&&this.firstResize.getTime()-new Date().getTime()<5e3?(confirm("Abnormal Window Resize triggered, would you want to stop automatic window resize function?")&&(window.removeEventListener("resize",t),this.pawtunes.settings.tpl.autoWindowResize=!1),this.resizeCounter=0):this.resizeCounter>50&&this.firstResize.getTime()-new Date().getTime()>5e3&&(this.firstResize=new Date,this.resizeCounter=0)}.bind(this);window.addEventListener("resize",t),document.addEventListener("DOMContentLoaded",t)}marquee(e){let t=e.innerHTML;e.innerHTML=`<div class="marquee-content">${t}</div><div class="marquee-content">${t}</div>`,e.style.display="flex",e.style.overflow="hidden",e.style.position="relative";let s=e.querySelectorAll(".marquee-content");requestAnimationFrame(()=>{let n=s[0].offsetWidth,h=20;s[0].style.width=`${n}px`,s[1].style.width=`${n}px`,s[0].style.paddingRight=`${h}px`,s[1].style.paddingRight=`${h}px`,s[1].style.left=`${n+h}px`;let r=n+h;e.style.setProperty("--single-distance",`${r}px`);let c=`marquee ${r/20}s linear infinite`;s.forEach(p=>{p.style.animation=c});for(let p of s)p.addEventListener("mouseenter",()=>{for(let _ of s)_.style.animationPlayState="paused"}),p.addEventListener("mouseleave",()=>{for(let _ of s)_.style.animationPlayState="running"})})}initSpectrum(){let e=document.getElementById("analyzer");if(!this.pawtunes.audio||!e)return;this.pawtunes._("#analyzer",n=>n.innerHTML=""),this.pawtunes.audio.crossOrigin="anonymous";let t=new zt(e,{source:this.pawtunes.audio,frequencyScale:"linear",fftSize:4096,mode:10,linearAmplitude:!0,linearBoost:4,alphaBars:!0,showPeaks:!1,maxFreq:16e3,minFreq:25,fillAlpha:.75,channelLayout:"single",barSpace:.4,smoothing:.9,showScaleX:!1,showBgColor:!1,lineWidth:1,overlay:!0}),s=window.getComputedStyle(document.documentElement).getPropertyValue("--accent-color");(this.pawtunes.settings.tpl.visualizationColor!=="true"||s==="")&&(s="#fff"),t.registerGradient("myGradient",{bgColor:"#011a35",colorStops:[s]}),t.setOptions({gradient:"myGradient"})}};export{dt as default};
/*! Bundled license information:

audiomotion-analyzer/src/audioMotion-analyzer.js:
  (**!
   * audioMotion-analyzer
   * High-resolution real-time graphic audio spectrum analyzer JS module
   *
   * @version 4.5.0
   * @author  Henrique Avila Vianna <hvianna@gmail.com> <https://henriquevianna.com>
   * @license AGPL-3.0-or-later
   *)
*/
//# sourceMappingURL=simple.min.js.map
